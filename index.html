<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Hexaco Personality</title>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="css/my.css">
        <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
        <script type="text/javascript" src="js/bootstrap.min.js"></script>
        <script type="text/javascript" src="js/questions.js"></script>
        <script type="text/javascript" src="js/my.js"></script>
    </head>
<body>
  <div id="fb-root"></div>
<!-- load js sdk --> <!-- load js sdk --> <!-- load js sdk --> <!-- load js sdk --> <!-- load js sdk --> 
  <script type="text/javascript">
    //initiates the fb login and passes your parameters 
    window.fbAsyncInit = function() {
      FB.init({
        appId      : '1419639185022815',
        xfbml      : true,
        version    : 'v2.3'
      });

      //this had to be in the fbAsyncInit function otherwise the FB object is not recognized 
     FB.getLoginStatus(function(response) {
            //handles the callback from the response, the response is a JSON object 
            statusChangeCallback(response);
      });
    };// end of the fbAsyncInit function

    //a annonymous function with arguments that are passed below
    (function(yourDocument, scriptTag, arbritaryId){
      //yourDocument is the first argument passed below the function. in this case it is the current document object. 
      //scriptTag is the second argument passed below the function. in this case it is the string "script"
      //arbritaryId is the third argument passed below the function. in this case it is the string "facebook-jssdk"      

      //Tech: 
        //getElementByTagName returns an htmlCollection object that is populated with tag elements, the value of scriptTag determines the type of tag, elements are accessed like an array

        //creates the fbSDKjs variable and initializes the firstLinkedScript variable to the 0 element in the htmlCollection

        //if scriptTag is not a valid tag firstLinkedScript will be undefined 
        //if scriptTag is not the string "script" then it will be passed the wrong tag and not work. 
      
      //English: 
        //essentially it assigns the variable firstLinkedScript to the first script linked in the html document yourDocument
        //it also creates but does not initialize the fbSDKjs variable 
      var fbSDKjs, firstLinkedScript = yourDocument.getElementsByTagName(scriptTag)[0];

      
      //searches the variable yourDocument for an element who's id is the value of arbritaryId which in this case is ("facebook-jssdk")
      //if it finds an element with an id attribute of arbritaryId then it assumes you have already linked the sdk and returns stopping the function 
      if (yourDocument.getElementById(arbritaryId)) {return;}
        
      //creates a element of type scriptTag, which in this case is a script tag element, and assigns the id attribute of this element to be the value of the arbritaryId variable
      fbSDKjs = yourDocument.createElement(scriptTag); fbSDKjs.id = arbritaryId;

      //assigns the src attribute of the fbSDKjs scriptelement to the actual facebook sdk.js
      fbSDKjs.src = "https://connect.facebook.net/en_US/sdk.js";
      //fbSDKjs is now an empty script with a src towards the facebook sdk and an id "facebook-jssdk"
      
      //gets the parent of the firstLinkedScript element, this parent is the HEAD element. 
      //insertBefore function inserts the first argument(fbSDKjs) right before the second argument(firstLinkedScript);
      //we have to call the function from firstLinkedScript parent node because the element is inserted as a child of the node that calls the function, thus would not work if the caller was not the parent of the referenced node (second argument)
      firstLinkedScript.parentNode.insertBefore(fbSDKjs, firstLinkedScript);
    }
    //the arguments that will be passed to the annonymous function 
    (document, 'script', 'facebook-jssdk'));
  </script>

<!-- navbar --><!-- navbar --><!-- navbar --><!-- navbar -->

    <nav id="myNavbar" class="navbar navbar-default navbar-inverse navbar-fixed-top" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbarCollapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Hexaco Personality</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#" target="_blank">Home</a></li> 
                </ul>
            </div>
        </div>
    </nav>

<!-- jumbotron --><!-- jumbotron --><!-- jumbotron --><!-- jumbotron -->    

    <div class="container">
        <div class="jumbotron" style="padding-bottom:20px;">
            <h1 class = "text-center">Hexaco Based Personality Inventory</h1>
            <p class = "text-center"> We will estimate your personality charateristics based on the Hexaco framework and your answers to the questions bellow</p>            
        </div>
        
<!-- fb button -->

        <div class = "row" style="text-align: center;"> 
            <div class="grey">

<!--                <div class="fb-login-button" data-max-rows="1" data-size="xlarge" data-show-faces="false" data-auto-logout-link="false"></div>-->
                    <!--<fb:login-button data-scope="public_profile, email" data-size="xlarge" onlogin="FB.getLoginStatus();">
                    </fb:login-button>-->
                    <!--<fb:login-button>
                    </fb:login-button>-->
                    <button id ="log" onclick="checkLoginState();">Login with FaceBook!</button>
                    <button onclick="getMe();">Grab my info</button>
                    <button onclick="FBtoParse();">send Facebook info to Parse</button>
                    <!--<button onclick="seePost();">see posts</button>-->

            </div>
        </div>
        <br>

<!-- Question 1 --><!-- Question 1 --><!-- Question 1 --><!-- Question 1 -->

        <div class = "row c-block" style="height:inherit"> 
            <div class= "center-block b-block">
                <button class="col-sm-1 myButtonLeft" id="left" onclick="prevQuestion();"><</button>
                <div class = "center-block q-block borderb col-sm-10" id="question-container">
                    <progress id="prog" max="99" value="0"></progress>                    
                    <div style="height: 80%;">
                        <p  class = "text-center" style = "font-size: x-large" id="question">I would be quite bored by a visit to an art gallery.</p> 
                    </div>
                    <div>
                        <button type="button" class="input, btn btn-danger btn-sm" value="1" onclick="loadDataIntoArray(this.value);">Strongly Disagree</button>
                        <button type="button" class="input, btn btn-warning btn-sm" value="2" onclick="loadDataIntoArray(this.value);">Disagree</button>
                        <button type="button" class="input, btn btn-default btn-sm" value="3" onclick="loadDataIntoArray(this.value);">Neither Agree Nor Disagree</button>
                        <button type="button" class="input, btn btn-success btn-sm" value="4" onclick="loadDataIntoArray(this.value);">Agree</button>      
                        <button type="button" class="input, btn btn-primary btn-sm" value="5" onclick="loadDataIntoArray(this.value);">Strongly Agree</button>
                    </div>
                </div><!-- q-block --><!-- q-block --><!-- q-block -->
                <button class="col-sm-1 myButtonRight" id="right" onclick="nextQuestion();">></button>
            </div><!-- b-block --><!-- b-block --><!-- b-block --><!-- b-block -->
            <div class ="center-block a-block">
                <br>
                <span id="Honesty-Humility" style="font-weight: bold;">Honesty-Humility: </span> 
                <br>
                <span id ="Sincerity">Sincerity: </span>
                <br>
                <span id = "Fairness">Fairness: </span>
                <br>
                <span id="Greed-Avoidance">Greed-Avoidance: </span>
                <br>
                <span id="Modesty">Modesty: </span>
                <br>
                <span id="Emotionality" style="font-weight: bold;">Emotionality: </span>
                <br>
                <span id="Fearfulness">Fearfulness: </span>
                <br>
                <span id="Anxiety">Anxiety: </span>
                <br>
                <span id="Dependence">Dependence: </span>
                <br>
                <span id="Sentimentality">Sentimentality: </span>
                <br>
                <span id="Extraversion" style="font-weight: bold;">Extraversion: </span>
                <br>
                <span id="Social-Self-Esteem">Social Self-Esteem: </span>
                <br>
                <span id="Social-Boldness">Social Boldness: </span>
                <br>
                <span id="Sociability">Sociability: </span>
                <br>
                <span id="Liveliness">Liveliness: </span>
                <br>
                <span id="Agreeableness" style="font-weight: bold;">Agreeableness: </span>
                <br>
                <span id="Forgiveness">Forgiveness: </span>
                <br>
                <span id="Gentleness">Gentleness: </span>
                <br>
                <span id="Flexibility">Flexibility: </span>
                <br>
                <span id="Patience">Patience: </span>
                <br>
                <span id="Conscientiousness" style="font-weight: bold;">Conscientiousness: </span>
                <br>
                <span id="Organization" >Organization: </span>
                <br>
                <span id="Diligence" >Diligence: </span>
                <br>
                <span id="Perfectionism" >Perfectionism: </span>
                <br>
                <span id="Prudence" >Prudence: </span>
                <br>
                <span id="Openness-to-Experience" style="font-weight: bold;">Openness to Experience: </span>
                <br>
                <span id="Aesthetic-Appreciation">Aesthetic Appreciation: </span>
                <br>
                <span id="Inquisitiveness">Inquisitiveness: </span>
                <br>
                <span id="Creativity">Creativity: </span>
                <br>
                <span id="Unconventionality">Unconventionality: </span>
                <br>
                <span id="Altruism" style="font-weight: bold;">Altruism: </span>
                <br>
                <br>

            </div>
        </div><!-- c-block --><!-- c-block --><!-- c-block --> <!-- c-block -->   
        

<!-- send results --><!-- send results --><!-- send results --> 

        <div class = "row" style =" padding-top: 1%; padding-bottom: 1%"> <!-- Question 100 -->
            <div class = "center-block" style = "min-width: 30%; max-width: 52.8%; text-align:center;">
                <p class = "text-center"  style = "font-size: x-large">Send your results!
                </p>       
                <button type="button" class="btn btn-primary btn-lg" onclick="sendResults();">send!</button>
                <button type="button" class="btn btn-primary btn-lg" onclick="Score();">score</button>
            </div>
        </div>  

        <br>
        <br>

        <hr>
        <div class="row">            
            <footer class="text-center">
                <p>&copy; Copyright 2013 Tutorial Republic</p>
            </footer>            
        </div>
    </div> <!-- end container -->

<!-- js for managing questions and arrays --><!-- js for managing questions and arrays -->
    <script type="text/javascript">
    //store array and changes questions
        fixButton();
        var currQ = 0;
        var array = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
        var honesty = [5,29,53,77,11,35,59,83,17,41,65,89,23,47,71,95];
        var emotionality = [4,28,52,76,10,34,58,82,16,40,64,88,22,46,70,94];
        var extraversion = [3,27,51,75,9,33,57,81,15,39,63,87,21,45,69,93];
        var agreeableness = [2,26,50,74,8,32,56,80,14,38,62,86,20,44,68,92];
        var conscientiousness = [1,25,49,73,7,31,55,79,13,37,61,85,19,43,67,91];
        var openness = [0,24,48,72,6,30,54,78,12,36,60,84,18,42,66,90];
        var altruism = [96,97,98,99];
        var result;

        //grabs the array containign the answers to the questions
        function grabArray()
        {
            return array;
        }


        //makes the button sizes match the element 
        function getInnerWidth(elem) {
            return parseFloat(window.getComputedStyle(elem).width);
        }
        function getInnerHeight(elem){
            return parseFloat(window.getComputedStyle(elem).height);
        }
        function fixButton()
        {
            var width = document.getElementById("question-container");
            var height = document.getElementById("question-container");

            // replace % value with pixels
            var width1 = getInnerWidth(width) + "px";
            var height1 = getInnerHeight(height) + "px";

            document.getElementById('left').style.height = height1;
            document.getElementById('right').style.height = height1;
        }

        //controls the question navigation 
        function nextQuestion()
        {

            if (currQ < qArray.length-1)
            {
                currQ += 1;
                //console.log("curr"+currQ);
                getQuestion();
                fixButton();
            }
        }
        function prevQuestion()
        {
            if (currQ >= 1)
            {    
                currQ -= 1;
                //console.log("curr"+currQ);
                getQuestion();
                fixButton();
            }
            else{}
        }
        function getQuestion()
        {
            document.getElementById('question').innerHTML = qArray[currQ];
            $("#prog")[0].value = currQ;
        }
        function loadDataIntoArray(val){
            var parsedInt = parseInt(val);
            array[currQ] = parsedInt;
            nextQuestion()
        }
    </script>

<!-- sends data to parse --><!-- sends data to parse --><!-- sends data to parse -->
    <script type="text/javascript">
        var xhr;
        function sendResults(){
                                            //alert("We just sent your answers!");
                                        /*    var xhr = new XMLHttpRequest();
                                            xhr.open("GET", "https://api.parse.com/1/classes/trial1", true);
                                            xhr.setRequestHeader("X-Parse-Application-Id", "qpCHEHBuLw3QWfDS9ZwSRbCZMUM9fs86AMCmJXbl");
                                            xhr.setRequestHeader("X-Parse-REST-API-Key", "5scsf1TfHlVRIkMQnv1XiU9VpyQR488NtMpJJ77j");
                                            xhr.setRequestHeader("Content-Type", "application/json");
                                            xhr.send();*/
            httpParsePost();
        
        }

        function log(obj) {
            $('#response').text(JSON.stringify(obj));
        }

        //sends the data to parse 
        function httpParsePost()
        {
            var url = "https://api.parse.com/1/classes/trial1";

            xhr = new XMLHttpRequest();
            /*xhr.onreadystatechange = function(){
                if (xhr.readyState === 4 && xhr.status === 200){
                    result = JSON.parse(xhr.responseText);
                    console.log(result);

                }
                if (xhr.readyState === 4 && xhr.status === 401){
                    alert("A problem occured and we could not save your answers");
                }
            }*/

            xhr.open("POST", url, true);
            xhr.setRequestHeader("X-Parse-Application-Id", "qpCHEHBuLw3QWfDS9ZwSRbCZMUM9fs86AMCmJXbl");
            xhr.setRequestHeader("X-Parse-REST-API-Key", "5scsf1TfHlVRIkMQnv1XiU9VpyQR488NtMpJJ77j");
            xhr.setRequestHeader("Content-Type", "application/json");

            var array = grabArray();

            var data = JSON.stringify({'FB_id': me.id, 'name': me.name, "array": array});

            xhr.send(data);

            console.log(xhr.status);
            console.log(xhr.statusText);
        }

        function buildParseRequest(end){
            var url = "https://api.parse.com/1/classes/"+end;
            xhr = new XMLHttpRequest();
            xhr.open("POST", url, true);
            xhr.setRequestHeader("X-Parse-Application-Id", "qpCHEHBuLw3QWfDS9ZwSRbCZMUM9fs86AMCmJXbl");
            xhr.setRequestHeader("X-Parse-REST-API-Key", "5scsf1TfHlVRIkMQnv1XiU9VpyQR488NtMpJJ77j");
            xhr.setRequestHeader("Content-Type", "application/json");

            return xhr;
        }


    </script>

    
<!-- facebook stuff -->    
<script type="text/javascript">

          var me;
          var permissions;
          var friends;
          var postsContent = [undefined];          

          //this called with the response from FB from the check login status function 
          function statusChangeCallback(response) {                                  
            // The response object is returned with a status field that lets the
            // app know the current login status of the person.
            // Full docs on the response object can be found in the documentation
            // for FB.getLoginStatus().
            if (response.status === 'connected') {
              // Logged into your app and Facebook.
              console.log("your in!");    
              $("#log").html("logout of Facebook");
              $("#log").attr("onclick", "logOut();");              
            } else if (response.status === 'not_authorized') {
              // The person is logged into Facebook, but not your app.
              console.log("log into the app!");
            } else {              
              // The person is not logged into Facebook, so we're not sure if
              // they are logged into this app or not.
              console.log("log into facebook!");                 
            }
          }

          function checkLoginState() {

            // here we call the FB.getLoginStatus function from the FB SKD.
            // this will retrieve the login status, and send the response through our statusChangeCallback() function
            FB.getLoginStatus(function(response) {                                                      
              
              // if the response is not_authorized then we launch the Login logic so that the user may give our app the 
              // appropriate permissions 

              if (response.status === "not_authorized")
              {

                FB.login(function (secondResponse){                                              
                  //we call the statusChangeCallback() function again to handle the response that the Login logic generates 
                  statusChangeCallback(secondResponse);                
                }, 
                //we pass the permissions that we request from the end user, which are the public_profile and email
                {scope:"public_profile, email, user_friends"});
              }
              else{}

              // if the response is unknown then we know that the end user is not logged into Facebook, so we launch the
              // Login logic so that the user may login to Facebook and give our app appropriate permissions they have not yet
              if (response.status === "unknown"){
                FB.login(function (secondResponse){   
                  //we call the statusChangeCallback() function again to handle the response that the Login logic generates 
                  statusChangeCallback(secondResponse);                     
                },
                //we pass the permissions that we request from the end user, which are the public_profile and email
                {scope:"public_profile, email, user_friends"});
              }             
            });

          } 

          function logOut(){
              FB.logout(function(response) {
                // Person is now logged out                
                statusChangeCallback(response);                
                $("#log").html("Login with FaceBook!");
                $("#log").attr("onclick", "checkLoginState();");
              });
          }


          function getMe(){
            FB.getLoginStatus(function (response){
                if (response.status === 'connected'){
                  FB.api('/me', function(response) {
                    /*
                    console.log(response);
                    console.log(response.id);
                    console.log(response.email);
                    console.log(response.first_name);
                    console.log(response.gender);
                    console.log(response.last_name);
                    console.log(response.link);
                    console.log(response.locale);
                    console.log(response.name);
                    console.log(response.timezone);
                    console.log(response.updated_time);
                    console.log(response.verified);   */                                     

                    me = response;
                    console.log('id = ' + me.id);

                   // JSON.stringify({'id': me.id});

                    console.log('string id' + JSON.stringify({'id': me.id}));

                    //me = JSON.stringify(response);

                    console.log(me);

                    

                  });     
                  FB.api('/me/permissions', function(response) {
                    
                    permissions = response;
                    console.log(permissions);
                    console.log(permissions.data[0].permission);
                  
                  });         
                  FB.api('/me/friends', function(response) {
                    if (response && !response.error) {

                            friends = response;
                            console.log(friends);
                    }                      
                  });
                  FB.api('/me?fields=posts.since(04/05/2010)', function(response) {
                    if (response && !response.error) {
                            posts = response;
                            next = posts.posts.paging.next;
                            //console.log(posts);
                            //console.log(posts.posts);
                            //console.log(posts.id);
                            //console.log(posts.posts.data[0].message);
                            //var messages = posts.posts.data.map(collect);
                            //console.log(messages);
                            postsContent.push.apply(postsContent, posts.posts.data.map(collect));                            
                            //console.log(postsContent);
                            //console.log(messages);
                            //console.log(posts.posts.paging.next);
                            pagingPost(next, 15);
                    }                      
                  });                  
                }
            }); 
          }            

          function collect (item, index){
                var retain;
                retain = item["message"];
                return retain;
          }

          function pagingPost(nextPage, pages){

                if (pages === 0){ console.log("Finnished paging"); seePost();}
                else{
                    $.ajax({
                            url: nextPage, //the url we are going to 
                            type: "GET", // the request method
                            success: function(data){ 
                                console.log("response to page: "+pages)
                             //   console.log(data.data[0].message);
                                //var messages = data.data.map(collect);
                                postsContent.push.apply(postsContent, data.data.map(collect));
                              //  console.log(data.data);
                             //   console.log(data.paging);
                              //  console.log(data.paging.next);
                                pagingPost(data.paging.next,pages-1);
                                
                            }//,// what we do when it succeeds 
                            //dataType: "json" // the type of data we expect back 
                    });                    
                }
          }
                
          function seePost(){
                postsContent = postsContent.filter(function(item, index){
                    return (item != undefined)
                });
                console.log(postsContent);
          }


          



          function FBtoParse(){
            FB.getLoginStatus( function (response){
              if (response.status === 'connected'){
                 
                  var one = buildParseRequest('me');                              
                  var data = JSON.stringify({'FB_id':me.id, 'email': me.email, 'name': me.name, 'first_name': me.first_name, 'last_name': me.last_name, 'link': me.link, 'locale': me.locale, 'timezone': me.timezone, 'verified': me.verified });
                  console.log("oneData: " + data);                  
                  one.send(data);
                  console.log(one.status);
                  console.log(one.statusText);

                  var two = buildParseRequest('permissions');

                  data = JSON.stringify({'FB_id':me.id, 'name':me.name,'permissions':[{"permission":permissions.data[0].permission, "status": permissions.data[0].status},{"permission": permissions.data[1].permission,"status":permissions.data[1].permission},{"permission": permissions.data[2].permission,"status":permissions.data[2].permission}]});
                  console.log("twoData: " + data);
                  console.log(data);
                  two.send(data);


                  console.log(two.status);
                  console.log(two.statusText);

                  var three = buildParseRequest('friends');

                  data = JSON.stringify({'FB_id': me.id, 'name': me.name, 'data':friends.data, 'summary': friends.summary});
                  console.log("threeData: " + data);

                  three.send(data);
                  console.log(three.status);
                  console.log(three.statusText);

                  var four = buildParseRequest('posts');

                  data = JSON.stringify({'FB_id': me.id, 'name': me.name, 'messages': postsContent});
                  console.log("fourData " + data);
                  four.send(data);
                  console.log(four.status);
                  console.log(four.statusText);

              }
            });
          }  

          function reverseValue(item){
                if (item == 1)
                {
                    return 5;
                }
                else{}
                if (item == 2)
                {
                    return 4;
                }
                else{}
                if (item == 3)
                {
                    return 3;                    
                }
                else{}
                if (item == 4)
                {
                    return 2;                
                }
                else{}
                if (item == 5)
                {
                    return 1;
                }
                else {}
                if (item == 0)
                {
                    return 0;
                }

          }

          function Score() {                        
               // array = [4,3,4,3,1,3,4,5,2,2,2,2,1,4,3,3,3,5,1,2,2,4,4,5,4,4,5,4,4,3,2,5,3,3,4,3,5,2,3,3,5,1,4,2,4,3,4,4,2,3,2,2,2,2,2,1,3,3,4,2,5,3,2,4,3,1,4,4,4,3,1,1,3,2,2,2,5,3,4,2,3,3,2,2,2,2,4,4,4,1,1,3,2,2,5,1,4,3,4,4];
                if (array[99] == 0){alert("Please answer every question!");}
                else{
                    console.log(array);
                    array = array.map(function(item, i){
                        var value;
                        //sincerity 
                        if (i === 5 || i === 53 || i === 11 || i===35 || i === 83 || i === 41 || i === 65 || i === 89 || i === 71 || i === 95 || i === 28 || i === 76 || i === 34 || i === 58 || i === 40 || i === 88 || i === 94 || i === 51 || i === 75 || i === 9 || i === 81 || i === 15 || i === 69 || i === 93 || i === 50 || i === 74 || i === 8 || i === 14 || i === 62 || i === 86 || i === 20 || i === 92 || i === 0 || i === 24 || i === 54 || i === 78 || i === 12 || i === 84 || i === 18 || i === 90 || i === 49 || i === 73 || i === 55 || i === 79 || i === 37 || i === 19 || i === 43 || i === 91 || i === 98 || i === 99)
                        {
                            value = reverseValue(item)

                        }
                        else
                        {
                            value = item;
                        }                                        
                        return value;
                    })
                    console.log(array);
                    transcribeScore(array);
                    //displays and calculates honesty dimension 
                    displayScore("#Honesty-Humility", honesty, 0, honesty.length);
                    displayScore("#Sincerity", honesty, 0, 4);
                    displayScore("#Fairness", honesty, 4, 8);
                    displayScore("#Greed-Avoidance", honesty, 8, 12);
                    displayScore("#Modesty", honesty, 12, 16);
                    //displays and claculates emotionality dimension
                    displayScore("#Emotionality", emotionality, 0, emotionality.length);
                    displayScore("#Fearfulness", emotionality, 0, 4);
                    displayScore("#Anxiety", emotionality, 4, 8);
                    displayScore("#Dependence", emotionality, 8, 12);
                    displayScore("#Sentimentality", emotionality, 12, 16);
                    //displays and claculates extraversion dimension
                    displayScore("#Extraversion", extraversion, 0, extraversion.length);
                    displayScore("#Social-Self-Esteem", extraversion, 0, 4);
                    displayScore("#Social-Boldness", extraversion, 4, 8);
                    displayScore("#Sociability", extraversion, 8, 12);
                    displayScore("#Liveliness", extraversion, 12, 16);
                    //displays and claculates Agreeableness dimension
                    displayScore("#Agreeableness", agreeableness, 0, agreeableness.length);
                    displayScore("#Forgiveness", agreeableness, 0, 4);
                    displayScore("#Gentleness", agreeableness, 4, 8);
                    displayScore("#Flexibility", agreeableness, 8, 12);
                    displayScore("#Patience", agreeableness, 12, 16);
                    //displays and claculates Conscientiousness dimension
                    displayScore("#Conscientiousness", conscientiousness, 0, conscientiousness.length);
                    displayScore("#Organization", conscientiousness, 0, 4);
                    displayScore("#Diligence", conscientiousness, 4, 8);
                    displayScore("#Perfectionism", conscientiousness, 8, 12);
                    displayScore("#Prudence", conscientiousness, 12, 16);
                    //displays and claculates Openness to Experience dimension
                    displayScore("#Openness-to-Experience", openness, 0, openness.length);
                    displayScore("#Aesthetic-Appreciation", openness, 0, 4);
                    displayScore("#Inquisitiveness", openness, 4, 8);
                    displayScore("#Creativity", openness, 8, 12);
                    displayScore("#Unconventionality", openness, 12, 16);
                    //displays and claculates Altruism dimension
                    displayScore("#Altruism", altruism, 0, altruism.length);


            }
          }

          function transcribe(item, index){
            var value;
            value = array[item];
            return value;
          }

          function sumAll(total, item, set){                
                return total + item;
          }

          function transcribeScore(array){                                                      
            honesty = honesty.map(transcribe);                    
            emotionality = emotionality.map(transcribe);
            extraversion = extraversion.map(transcribe);
            agreeableness = agreeableness.map(transcribe);
            conscientiousness = conscientiousness.map(transcribe);
            openness = openness.map(transcribe);
            altruism = altruism.map(transcribe);       
            
          }
                
          function displayScore(element, elArr, start, end){     
                var tmp = elArr.slice(start, end); 
                var sum = tmp.reduce(sumAll);        
                console.log(tmp)                
                avg = (sum/tmp.length).toFixed(2);
                
                console.log(avg)
                $(element).text($(element).text()+avg);
                

          }

        </script>
</body>
</html>